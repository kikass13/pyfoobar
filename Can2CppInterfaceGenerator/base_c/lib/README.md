
# AUTOGENERATED PACKAGE
## <>AUTO_INSERT:PACKAGE_NAME<> - CAN Interface Library

### Usage
Required steps to use interface:

1. include library and link against it in another node
2. use library api to register callbacks and send ros messages back to can
   1. .hpp include package
   ```#include <<>AUTO_INSERT:PACKAGE_NAME<>/can_interface.hpp>```
   2. .hpp declare interface object
   ```<>AUTO_INSERT:PACKAGE_NAME<>::CanInterface canIf_;```
   3. .hpp declare our local (user) callback functions for receiving messages via CAN
   //<>AUTO_INSERT:DO_PER_MESSAGE<> <R> ```void cb_<>AUTO_INSERT:PACKAGE_NS<>_<>AUTO_INSERT:MESSAGE_NAME<>(const <>AUTO_INSERT:PACKAGE_NAME<>::<>AUTO_INSERT:MESSAGE_NAME<>& msg);```
   4. .cpp define already declared local (user) callback functions for receiving messages via CAN
   //<>AUTO_INSERT:DO_PER_MESSAGE<> <R> ```void RosPackageTemplate::cb_<>AUTO_INSERT:PACKAGE_NS<>_<>AUTO_INSERT:MESSAGE_NAME<>(const <>AUTO_INSERT:PACKAGE_NAME<>::<>AUTO_INSERT:MESSAGE_NAME<>& msg){}```
   5. .cpp on CAN message receive, call interface `read()` function and provide the receive CAN frame 
   6. .cpp provide an implementation for the underlying can frame send mechanism by registering a write callback with `registerSendCallback()`
   7. .cpp register your local (user) callback functions for receiving decoded messages via CAN 
   //<>AUTO_INSERT:DO_PER_MESSAGE<> <R> ```this->canIf_.register_<>AUTO_INSERT:PACKAGE_NS<>_<>AUTO_INSERT:MESSAGE_NAME<>_callback(std::bind(&RosPackageTemplate::cb_<>AUTO_INSERT:PACKAGE_NS<>_<>AUTO_INSERT:MESSAGE_NAME<>, this, std::placeholders::_1));```
   8. [OPTIONAL] .cpp you can send messages by calling their respective send functions
   //<>AUTO_INSERT:DO_PER_MESSAGE<> <W>```this->canIf_.send_<>AUTO_INSERT:PACKAGE_NS<>_<>AUTO_INSERT:MESSAGE_NAME<>(<>AUTO_INSERT:PACKAGE_NAME<>::<>AUTO_INSERT:MESSAGE_NAME<>());```

### Test

prepare a virtual can device and install utilities

```
sudo apt-get install can-utils
sudo modprobe vcan
sudo ip link add dev vcan0 type vcan
sudo ip link set up vcan0     
```

write your node, include the library and start the interface to read/write something to/from the interface like this

```
candump vcan0
cansend vcan0 110#11
```

### Auto Generated .dbc Message Information

#### Read (CAN to User) 
//<>AUTO_INSERT:DO_PER_MESSAGE<> <R> * <>AUTO_INSERT:PACKAGE_NS<>::<>AUTO_INSERT:MESSAGE_NAME<>

#### Write (User to CAN)
//<>AUTO_INSERT:DO_PER_MESSAGE<> <W> * <>AUTO_INSERT:PACKAGE_NS<>::<>AUTO_INSERT:MESSAGE_NAME<>
